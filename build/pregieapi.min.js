/*! PREGIE_JSAPI | 2015-10-23 */
window.PREGIEAPI||(window.PREGIEAPI=function(c){var d={},e={},f={},g=[],k={},n={forced_loading:!1},l=function(a){var b=a||[],h=function(a){for(var h=0;h<b.length;h++)a(b[h],h,b);return b};return{forEach:function(a){return h(function(){a.apply(b,arguments)})},map:function(a){var c=[];h(function(){c.push(a.apply(b,arguments))});return c},filter:function(a){var c=[];h(function(){a.apply(b,arguments)&&c.push(arguments[0])});return c}}},p=function(a,b){g.push([a,b]);m()},m=function(){var a=[];g=l(g).filter(function(b){return 0<
l(b[1]).filter(function(a){return!d[a]}).length||function(){a.push(function(a,b){return function(){a(b)}}(b[0],r(b[1])))}()});l(a).forEach(function(a){a()})},r=function(a){var b={};l(a).forEach(function(a){var c=b,e=a.split("."),f=e.pop();l(e).forEach(function(a){c=c[a]||(c[a]={})});c[f]=d[a]});return b},t=function(a){return{run:function(b){p(function(a){b.call(window[c],a)},a)},module:function(b,h){p(function(a){d[b]||(d[b]=h.call(window[c],a||void 0));m()},a);k[s(b)]=b}}},q=function(a){for(var b=
document.getElementsByTagName("script"),c=0;c<b.length;c++){var d=b[c].getAttribute("src")||"";if(-1!=d.indexOf(a))return d.substr(0,d.indexOf(a))}return""},s=function(a){for(var b in f)if(0==a.indexOf(b))return f[b];return function(){for(var b=a.length+1;0<--b;){var c=a.substring(0,b);if("undefined"!=typeof e[c])return e[c]+"/"+a.substr(c.length).split(".").join("/")+".js"}return q("/pregieapi.")+"/plugins/"+a.split(".").join("/")+".js"}().replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).replace(/\/-/g,
"/")};(function(){return function(a){if(!k[a]||n.forced_loading){var b=document.createElement("script");b.setAttribute("src",a+(n.forced_loading?"?"+Math.random():""));b.setAttribute("type","text/javascript");document.getElementsByTagName("head")[0].appendChild(b);k[a]=!0}else m()}})();var u=function(a){var b=function(a){var b=a.match(/^(.*)\((.*)\)$/)||[];return 3==b.length?l(b[2].split("|")).map(function(a){return b[1]+a}):[a]},c=[];l(a).forEach(function(a){l(b(a)).forEach(function(a){c.push(a)})});
return c};e["pregieapi."]=q("/pregieapi.")+"/plugins";return{load:function(){return t(u(arguments))},addPath:function(a,b){e[a]=b},addPackage:function(a,b){f[a]=b},publicateAPI:function(a,b){"undefined"==typeof window[c][a]&&(window[c][a]=b);return b},self:function(a){k[a]=!0},module:function(a,b){d[a]||(d[a]=b.call(window[c],void 0));m()},setup:function(a){for(var b in a)n[b]=a[b];return this},$debugger:{modules:d,paths:e,packages:f,hooks:g}}}("PREGIEAPI"));
PREGIEAPI.module("date",function(){console.log("date");return this.publicateAPI("date",{absolute:function(){var c=new Date(0);return{day:function(d){return c.setDate(d),this},month:function(d){return c.setMonth(d-1),this},year:function(d){return c.setFullYear(d),this},getTime:function(){return c.getTime()},getUTC:function(){return c.toUTCString()}}},unixtime:function(c){return~~((c||new Date).getTime()/1E3)}})});
PREGIEAPI.module("device",function(c){c=navigator.userAgent;var d=null;c.match(/Web[kK]it[\/]{0,1}([\d.]+)/);var e=c.match(/(Android);?[\s\/]+([\d.]+)?/),f=c.match(/(iPad).*OS\s([\d_]+)/),g=c.match(/(iPod)(.*OS\s([\d_]+))?/),k=!f&&c.match(/(iPhone\sOS)\s([\d_]+)/);c={platform:{name:(navigator.platform.match(/mac|win|linux/i)||["unknown"])[0].toLowerCase()},webview:function(){return"undefined"!=typeof window.Android||"undefined"!=typeof window.iOS},os:{version:function(){return d},android:function(){e&&
(d=e[2]);return e},ios:function(){return this.ipad()||this.ipod()||this.iphone()},ipad:function(){f&&(d=f[2].replace(/_/g,"."));return f},ipod:function(){g&&(d=g[3]?g[3].replace(/_/g,"."):null);return g},iphone:function(){k&&!g&&(d=k[2].replace(/_/g,"."));return k}}};return this.publicateAPI("device",c)});
PREGIEAPI.load("device").module("api",function(c){var d=function(){this.deviceInterface=null};d.prototype.getCurrentUserId=function(){throw Error("MOCK INTERFACE");};d.prototype.showToast=function(){throw Error("MOCK INTERFACE");};var e=function(){this.deviceInterface=c.device.android()?Android:c.device.ios()?iOS:new d};e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.getUserId=function(){return this.deviceInterface.getCurrentUserId()};e.prototype.showToast=function(c){this.deviceInterface.showToast(c)};
return this.publicateAPI("API",e)});
